(function(t){function e(e){for(var o,a,i=e[0],c=e[1],u=e[2],d=0,p=[];d<i.length;d++)a=i[d],n[a]&&p.push(n[a][0]),n[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);l&&l(e);while(p.length)p.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],o=!0,i=1;i<r.length;i++){var c=r[i];0!==n[c]&&(o=!1)}o&&(s.splice(e--,1),t=a(a.s=r[0]))}return t}var o={},n={app:0},s=[];function a(e){if(o[e])return o[e].exports;var r=o[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=o,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(r,o,function(e){return t[e]}.bind(null,o));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var o=r("2b0e"),n=r("ce5b"),s=r.n(n);r("bf40");o["default"].use(s.a,{theme:{primary:"#ee44aa",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},iconfont:"md"});var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("router-view")},i=[],c={name:"App",components:{}},u=c,l=r("2877"),d=Object(l["a"])(u,a,i,!1,null,null,null),p=d.exports,f=(r("6762"),r("2fdb"),r("8c4f")),h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-flex",[r("v-text-field",{attrs:{solo:"",label:"키워드 입력 후 Enter","append-icon":"search"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchWithoutPage(e)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),0==t.getBookList.total?r("div",{staticStyle:{"min-height":"300px","text-align":"center"}},[r("h2",{staticStyle:{"margin-top":"130px",color:"#bbbbbb"}},[t._v("데이터가 없습니다")])]):r("v-card",[r("v-list",{attrs:{"three-line":""}},[t._l(t.getBookList.bookList,function(e,o){return[0!=o?r("v-divider",{attrs:{inset:!0}}):t._e(),r("v-list-tile",{key:o,attrs:{avatar:""},on:{click:function(e){return t.showDetail(o)}}},[r("v-list-tile-avatar",[e.thumbnail?r("img",{attrs:{src:e.thumbnail}}):t._e()]),r("v-list-tile-content",[r("v-list-tile-title",[t._v(t._s(e.title)),r("span",{staticStyle:{"font-size":"12px"}},[t._v(" (ISBN : "+t._s(e.isbn)+")")])]),r("v-list-tile-sub-title",{staticClass:"text--primary"}),r("v-list-tile-sub-title",[t._v("저 : "+t._s(t.authors(e.authors))+" "+t._s(0!=e.translators.length?"/ 역 : "+t.authors(e.translators):""))])],1)],1)]})],2)],1),0==!t.getBookList.total?r("div",{staticClass:"text-xs-center",staticStyle:{"margin-top":"20px"}},[r("v-pagination",{attrs:{length:Math.floor(t.getBookList.total/10)+1},on:{input:t.search,previous:t.search,next:t.search},model:{value:t.getBookList.page,callback:function(e){t.$set(t.getBookList,"page",e)},expression:"getBookList.page"}})],1):t._e(),r("v-dialog",{attrs:{width:"700px"},model:{value:t.detail,callback:function(e){t.detail=e},expression:"detail"}},[t.detail?r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[t._v(t._s(t.getBookList.bookList[t.detailIndex].title))])]),r("v-card-text",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs2:""}},[r("v-card",{attrs:{dark:"",color:"primary"}},[r("v-img",{attrs:{src:t.getBookList.bookList[t.detailIndex].thumbnail}})],1)],1),r("v-flex",{staticStyle:{"padding-left":"20px"},attrs:{xs4:""}},[r("h3",[t._v("저자")]),r("p",[t._v(t._s(t.authors(t.getBookList.bookList[t.detailIndex].authors))+t._s(t.getBookList.bookList[t.detailIndex].translators.length?"(번역: "+t.authors(t.getBookList.bookList[t.detailIndex].translators)+")":""))]),r("h3",[t._v("출판사")]),r("p",[t._v(t._s(t.getBookList.bookList[t.detailIndex].publisher))]),r("h3",[t._v("상태")]),r("p",[t._v(t._s(t.getBookList.bookList[t.detailIndex].status))])]),r("v-flex",{staticStyle:{"padding-left":"12px"},attrs:{xs4:""}},[r("h3",[t._v("가격")]),r("p",[t._v(t._s(t.getBookList.bookList[t.detailIndex].price)+"원 (할인가 : "+t._s(t.getBookList.bookList[t.detailIndex].salePrice+"원")+")")]),r("h3",[t._v("등록일")]),r("p",[t._v(t._s(t.getBookList.bookList[t.detailIndex].datetime.split("T")[0]))]),r("h3",[t._v("ISBN")]),r("p",[t._v(t._s(t.getBookList.bookList[t.detailIndex].isbn))])])],1),r("h3",{staticStyle:{"margin-top":"12px"}},[t._v("책 소개")]),r("p",{staticStyle:{"margin-top":"3px"}},[t._v(t._s(t.getBookList.bookList[t.detailIndex].contents))])],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.detail=!1,t.detailIndex=null}}},[t._v("닫기")])],1)],1):t._e()],1)],1)},b=[],v=(r("8e6e"),r("456d"),r("a481"),r("ac6a"),r("bd86")),y=r("2f62");function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,o)}return r}function k(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(r,!0).forEach(function(e){Object(v["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var w={components:{},data:function(){return{keyword:"",detail:!1,detailIndex:null}},computed:k({},Object(y["c"])({getBookList:"getBookList"})),methods:k({authors:function(t){var e="";return t.forEach(function(t){e+=", "+t}),e.replace(", ","")},searchWithoutPage:function(){var t=this;this.keyword?this.searchByKeyword({query:this.keyword}).then(function(e){var r={keyword:t.keyword,page:1,size:10,total:e.data.totalCount,bookList:e.data.bookList};t.SET_SEARCH_RESULT_BOOKS(r)}).catch(function(){t.logout(),t.$router.push("/user/login")}):alert("검색어를 입력해주세요")},search:function(t){var e=this;this.searchByKeyword({query:this.keyword,page:t,size:10}).then(function(r){var o={keyword:e.keyword,page:t,size:10,total:r.data.totalCount,bookList:r.data.bookList};e.SET_SEARCH_RESULT_BOOKS(o)}).catch(function(){e.logout(),e.$router.push("/user/login")})},showDetail:function(t){this.detail=!0,this.detailIndex=t}},Object(y["d"])({SET_SEARCH_RESULT_BOOKS:"SET_SEARCH_RESULT_BOOKS"}),{},Object(y["b"])({searchByKeyword:"bookSearch",logout:"logout"}))},m=w,O=Object(l["a"])(m,h,b,!1,null,null,null),_=O.exports,S=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs6:""}},[r("v-card",[r("v-card-title",[t._v("내 검색 히스토리")]),r("v-list",{attrs:{tile:""}},[r("v-divider"),t._l(t.getHistory,function(e){return r("v-list-tile",{key:e.keywordName},[r("v-list-tile-content",[r("v-list-tile-title",{domProps:{textContent:t._s(e.keywordName)}})],1),r("span",{staticStyle:{"font-size":"12px"}},[t._v(t._s(e.searchDate.split("T")[0])+"에 검색")])],1)})],2)],1)],1),r("v-flex",{attrs:{xs6:""}},[r("v-card",[r("v-card-title",[t._v("키워드 TOP10")]),r("v-list",{attrs:{tile:""}},[r("v-divider"),t._l(t.getKeyword,function(e){return r("v-list-tile",{key:e.keywordName},[r("v-list-tile-content",[r("v-list-tile-title",{domProps:{textContent:t._s(e.keywordName)}})],1),r("v-chip",{attrs:{color:"orange","text-color":"white"}},[t._v("\n                            "+t._s(e.keywordCount)+"회\n                            "),r("v-icon",{attrs:{right:""}},[t._v("star")])],1)],1)})],2)],1)],1)],1)],1)},x=[];function j(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,o)}return r}function P(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?j(r,!0).forEach(function(e){Object(v["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var E={name:"History",data:function(){return{timer:null,historyCount:0,keywordCount:0}},computed:P({},Object(y["c"])(["getHistory","getKeyword"])),created:function(){this.refresh()},destroyed:function(){},methods:P({refresh:function(){this.searchHistory(),this.searchBestKeyword(),this.keywordCount=this.getKeyword.length,this.historyCount=this.getHistory.length}},Object(y["b"])({searchHistory:"searchHistory",searchBestKeyword:"searchBestKeyword"}))},L=E,I=Object(l["a"])(L,S,x,!1,null,"79cf3b15",null),B=I.exports,C=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{staticClass:"mx-auto",staticStyle:{"margin-top":"200px"},attrs:{"max-width":"400"}},[r("v-card-title",[r("span",{staticClass:"title"},[t._v("로그인")])]),r("v-card-text",[r("form",[r("v-text-field",{attrs:{counter:20,label:"아이디",required:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.btnLogin(e)}},model:{value:t.userId,callback:function(e){t.userId=e},expression:"userId"}}),r("v-text-field",{attrs:{counter:12,label:"패스워드",required:"","append-icon":t.passwordShow?"visibility":"visibility_off",type:t.passwordShow?"text":"password"},on:{"click:append":function(e){t.passwordShow=!t.passwordShow},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.btnLogin(e)}},model:{value:t.userPassword,callback:function(e){t.userPassword=e},expression:"userPassword"}}),r("v-btn",{on:{click:t.btnLogin}},[t._v("로그인")]),r("v-btn",{on:{click:t.btnRegister}},[t._v("회원가입")])],1)])],1)},T=[],R=r("bc3a"),H=r.n(R),D=r("1582"),U=new D["CookieStorage"],A={init:function(t){U.getItem("jwtToken")&&(H.a.defaults.headers.common["X-Auth-Token"]=U.getItem("jwtToken")),H.a.defaults.baseURL=t,H.a.defaults.headers.common["Access-Control-Allow-Origin"]="*",H.a.defaults.headers.common["Access-Control-Allow-Methods"]="*",H.a.defaults.headers.common["Access-Control-Allow-Headers"]="*"},setHeader:function(t){U.setItem("jwtToken",t,{path:"/"}),H.a.defaults.headers.common["X-Auth-Token"]=t},removeHeader:function(){U.removeItem("jwtToken"),H.a.defaults.headers.common={}}},K=A;function $(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,o)}return r}function F(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$(r,!0).forEach(function(e){Object(v["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var N={name:"Login",computed:{},data:function(){return{userId:"",userPassword:"",passwordShow:!1}},methods:F({btnRegister:function(){this.$router.push("/user/register")},btnLogin:function(){var t=this;this.userId.length<1?alert("아이디를 입력해주세요"):this.userPassword.length<1?alert("비밀번호를 입력해주세요"):this.login({userId:this.userId,userPassword:this.userPassword}).then(function(e){200!=e.status||e.data.jwtToken?(K.setHeader(e.data.jwtToken),t.SET_USER_INFO({userId:t.userId,token:e.data.jwtToken}),t.$router.push("/")):alert(e.data.message)}).catch(function(){alert("아이디와 비밀번호를 확인해주세요")})}},Object(y["b"])({login:"login"}),{},Object(y["d"])({SET_USER_INFO:"SET_USER_INFO"}))},q=N,z=Object(l["a"])(q,C,T,!1,null,"36d3fcd2",null),M=z.exports,G=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{staticClass:"mx-auto",staticStyle:{"margin-top":"200px"},attrs:{"max-width":"400"}},[r("v-card-title",[r("span",{staticClass:"title"},[t._v("회원가입")])]),r("v-card-text",[r("form",[r("v-text-field",{attrs:{counter:20,label:"아이디",required:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.btnRegister(e)}},model:{value:t.userId,callback:function(e){t.userId=e},expression:"userId"}}),r("v-text-field",{attrs:{counter:12,label:"패스워드",required:"","append-icon":t.passwordShow?"visibility":"visibility_off",type:t.passwordShow?"text":"password"},on:{"click:append":function(e){t.passwordShow=!t.passwordShow},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.btnRegister(e)}},model:{value:t.userPassword,callback:function(e){t.userPassword=e},expression:"userPassword"}}),r("v-text-field",{attrs:{counter:12,label:"패스워드 확인",required:"","append-icon":t.passwordCheckShow?"visibility":"visibility_off",type:t.passwordShow?"text":"password"},on:{"click:append":function(e){t.passwordCheckShow=!t.passwordCheckShow},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.btnRegister(e)}},model:{value:t.userPasswordCheck,callback:function(e){t.userPasswordCheck=e},expression:"userPasswordCheck"}}),r("v-btn",{on:{click:t.btnRegister}},[t._v("회원가입")]),r("v-btn",{on:{click:t.btnGoBack}},[t._v("로그인으로 돌아가기")])],1)])],1)},J=[];function W(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,o)}return r}function X(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?W(r,!0).forEach(function(e){Object(v["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var Y={name:"Register",data:function(){return{userId:"",userPassword:"",userPasswordCheck:"",passwordShow:!1,passwordCheckShow:!1}},methods:X({btnRegister:function(){var t=this;this.userPassword!=this.userPasswordCheck?alert("비밀번호가 서로 다릅니다"):this.userId.length<6?alert("6자 이상의 아이디를 입력해주세요"):this.userPassword.length<6?alert("6자리 이상의 비밀번호를 입력해주세요"):this.register({userId:this.userId,userPassword:this.userPassword}).then(function(e){200==e.status&&(alert(e.data.message),t.$router.push("/user/login"))}).catch(function(){alert("이미 존재하는 계정입니다")})},btnGoBack:function(){this.$router.push("/user/login")}},Object(y["b"])({register:"register"}))},Q=Y,V=Object(l["a"])(Q,G,J,!1,null,"9b85a114",null),Z=V.exports,tt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-container",{attrs:{"align-center":"","justify-center":""}},[r("router-view")],1)],1)},et=[],rt={name:"User"},ot=rt,nt=Object(l["a"])(ot,tt,et,!1,null,"2cab082c",null),st=nt.exports,at=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-toolbar",{attrs:{app:""}},[r("v-toolbar-title",{staticClass:"headline text-uppercase"},[r("router-link",{staticStyle:{color:"#222222","text-decoration":"none"},attrs:{to:"/"}},[t._v("The BOOK STORE")])],1),r("v-spacer"),r("v-btn",{attrs:{flat:"",target:"_blank"},on:{click:t.btnKeyword}},[r("span",{staticClass:"mr-2"},[t._v("키워드 히스토리")])]),r("v-btn",{attrs:{flat:"",target:"_blank"},on:{click:t.btnLogout}},[r("span",{staticClass:"mr-2"},[t._v("로그아웃")])])],1),r("v-content",[r("v-container",[r("router-view")],1)],1)],1)},it=[];function ct(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,o)}return r}function ut(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ct(r,!0).forEach(function(e){Object(v["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ct(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var lt={name:"Main",methods:ut({btnKeyword:function(){this.$router.push("/history")},btnLogout:function(){try{this.logout()}finally{this.$router.push("/user/login")}}},Object(y["b"])({logout:"logout"}))},dt=lt,pt=Object(l["a"])(dt,at,it,!1,null,"a8fb85a6",null),ft=pt.exports;o["default"].use(f["a"]);var ht=new D["CookieStorage"],bt=new f["a"]({mode:"history",base:"/",routes:[{path:"/",component:ft,children:[{path:"",name:"Search Home",component:_},{path:"history",name:"Search history",component:B}],meta:{authenticated:!0}},{path:"/user",component:st,children:[{path:"login",name:"User Login",component:M},{path:"register",name:"User Register",component:Z}],meta:{authenticated:!1}}]});bt.beforeEach(function(t,e,r){var o=ht.getItem("jwtToken");return o||t.path.includes("user")?o&&t.path.includes("user")?r({path:"/"}):void r():r({path:"/user/login"})});var vt=bt;o["default"].use(y["a"]);var yt=new y["a"].Store({getters:{getUserInfo:function(t){return{userId:t.userId,userPassword:t.authToken}},getBookList:function(t){return t.searchedBooks},getHistory:function(t){return t.searchHistory},getKeyword:function(t){return t.bestBooks}},state:{error:!1,message:null,userId:"",authToken:"",searchedBooks:{keyword:"",page:0,size:0,total:0,bookList:[]},searchHistory:[],bestBooks:[]},mutations:{SET_USER_INFO:function(t,e){t.userId=e.userId,t.authToken=e.token},DELETE_USER_INFO:function(t){t.userId="",t.authToken=""},SET_SEARCH_RESULT_BOOKS:function(t,e){t.searchedBooks.keyword=e.keyword,t.searchedBooks.page=e.page,t.searchedBooks.size=e.size,t.searchedBooks.total=e.total,t.searchedBooks.bookList=e.bookList},SET_SEARCH_RESULT_BEST:function(t,e){t.bestBooks=e},SET_SEARCH_RESULT_HISTORY:function(t,e){t.searchHistory=e}},actions:{login:function(t,e){t.commit;return H.a.post("/api/user/login?userId=".concat(e.userId,"&userPassword=").concat(e.userPassword))},register:function(t,e){t.commit;return H.a.post("/api/user/register?userId=".concat(e.userId,"&userPassword=").concat(e.userPassword))},logout:function(t){var e=t.commit;e("DELETE_USER_INFO"),K.removeHeader()},bookSearch:function(t,e){t.commit;return e.page?H.a.get("/api/book/search?query=".concat(e.query,"&page=").concat(e.page,"&size=").concat(e.size)):H.a.get("/api/book/search?query=".concat(e.query))},searchHistory:function(t){var e=t.commit;H.a.get("/api/book/history").then(function(t){e("SET_SEARCH_RESULT_HISTORY",t.data)})},searchBestKeyword:function(t){var e=t.commit;H.a.get("/api/book/keyword").then(function(t){e("SET_SEARCH_RESULT_BEST",t.data)})}}});r("d5e8"),r("d1e7");o["default"].config.productionTip=!1,K.init("/"),new o["default"]({router:vt,store:yt,render:function(t){return t(p)}}).$mount("#app")}});
//# sourceMappingURL=app.4d14d991.js.map